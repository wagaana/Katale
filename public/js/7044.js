"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7044],{306:(t,e,r)=>{r.d(e,{Z:()=>u});var i=r(629),n=r(2640);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){c(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const l={props:["data"],data:function(){return{uploads:n.q6,findFriendsDialog:!1,queryText:""}},computed:a(a({},(0,i.rn)(["userSearch"])),(0,i.Se)(["getUserSearch"])),watch:{queryText:function(t){null!=t&&this.$store.dispatch("searchUsers",t)}},methods:{searchUsers:function(){this.$store.dispatch("searchUsers",this.queryText)},openUserPublicProfile:function(t){this.$router.push({path:"/userPublicProfile",query:{userIndex:t}})}}};const u=(0,r(1900).Z)(l,(function(){var t=this,e=t._self._c;return e("v-container",[e("v-row",[e("v-btn",{attrs:{outlined:"",rounded:"",color:"primary"},on:{click:function(e){t.findFriendsDialog=!0}}},[t._v("\n            Add New\n        ")]),t._v(" "),e("v-dialog",{attrs:{width:"500"},model:{value:t.findFriendsDialog,callback:function(e){t.findFriendsDialog=e},expression:"findFriendsDialog"}},[e("v-card",[e("v-card-title",{staticClass:"headline",attrs:{"primary-title":""}},[e("v-text-field",{attrs:{"append-icon":"mdi-shield-account",label:"Find Friends","hide-details":"",dense:"",outlined:""},on:{change:t.searchUsers},model:{value:t.queryText,callback:function(e){t.queryText=e},expression:"queryText"}})],1),t._v(" "),e("v-divider"),t._v(" "),e("v-card-text",t._l(t.getUserSearch,(function(r){return e("v-col",{key:r.id,attrs:{cols:"12",sm:"12",order:"-1","order-sm":"2"}},[e("v-card",{staticClass:"px-2 py-2",on:{click:function(e){return t.openUserPublicProfile(r.id)}}},[e("v-row",[e("v-col",{staticClass:"py-4 center",attrs:{cols:"12","offset-sm":"0",sm:"3"}},[e("v-avatar",{attrs:{size:"60"}},[e("v-img",{staticClass:"card-img",attrs:{src:"".concat(t.uploads).concat(r.profile_picture)}})],1)],1),t._v(" "),e("v-col",{attrs:{cols:"12",sm:"8"}},[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("h2",{staticClass:"title cyan--text hover"},[t._v("\n                                                "+t._s(r.name)+"\n                                            ")]),t._v(" "),e("p",{staticClass:"font-weight-light grey--text text--darken-1 body-2"},[t._v("\n                                                @"+t._s(r.user_name)+"\n                                            ")])])],1)],1)],1)],1)],1)})),1)],1)],1)],1)],1)}),[],!1,null,null,null).exports},7044:(t,e,r)=>{r.r(e),r.d(e,{default:()=>v});var i=r(629),n=r(538),o=r(2640);r(306);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===s(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const u={data:function(){return{overlay:!1,sidebarMenu:!0,toggleMini:!1,themeSwitch:!1,theme:!1,uploads:o.q6,settings:[{id:1,title:"My Account",icon:"mdi-shield-account",href:"/profileSettings"},{id:3,title:"Change Password",icon:"mdi-cog",href:"/passwordSettings"},{id:4,title:"Logout",icon:"mdi-key-outline",href:"/login"}],fab:!0}},beforeCreate:function(){this.$store.dispatch("getMyProfile"),this.$store.dispatch("fetchNewMessages"),this.$store.dispatch("fetchUserNotifications"),this.$store.dispatch("getCustomerCareChatGroupId")},computed:c(c(c({mini:function(){return this.$vuetify.breakpoint.smAndDown||this.toggleMini}},(0,i.rn)(["myUserProfile","customerCareChatGroupId","newMessages","userNotifications"])),(0,i.Se)(["messageAlert","getCustomerCareChatGroupId","myUserProfile","getNewMessages","getUserNotifications","isAuthenticated"])),{},{countNewNotifications:function(){return this.getUserNotifications.length>0?this.getUserNotifications.length:0},countNewMessages:function(){return this.getNewMessages.length>0?this.getNewMessages.length:0}}),watch:{messageAlert:function(t){null!=t&&n.default.notify({group:"foo",title:t.title,text:t.body,type:t.type})},myUserProfile:function(t){null!=t&&t.level>1&&(this.settings[3]={id:5,title:"Admin",icon:"mdi-cog",href:"/admin"})},isAuthenticated:function(t){t||next("/login")}},mounted:function(){"light"==localStorage.getItem("theme")?(this.themeSwitch=!1,this.theme=!1):(this.themeSwitch=!0,this.theme=!0),this.isAuthenticated||next("/login")},methods:{switchTheme:function(t){t?localStorage.setItem("theme","dark"):localStorage.setItem("theme","light"),console.log("THEME:::",t),setTimeout((function(){window.location.reload()}),500)},readMessage:function(t,e){this.myUserProfile.userId!==e?this.$router.push({path:"/chat",query:{chatId:t,userId:e}}):this.$router.push({path:"/profileSettings",query:{}})},getNotificationDetails:function(t){console.log(t)},LiveChat:function(){this.$router.push({path:"/chat",query:{chatId:this.getCustomerCareChatGroupId,userId:this.myUserProfile.userId}})}}};const v=(0,r(1900).Z)(u,(function(){var t=this,e=t._self._c;return e("v-app",{attrs:{light:""}},[e("v-app-bar",{attrs:{app:""}},[e("v-app-bar-nav-icon",{attrs:{to:"/home"}},[e("v-icon",[t._v("mdi-home")])],1),t._v(" "),e("v-toolbar-title",[t._v("Home")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(r){var i=r.on;return[e("v-btn",t._g({attrs:{dark:"",icon:""}},i),[t.countNewMessages<1?e("v-icon",{attrs:{color:"primary"}},[t._v("mdi-chat")]):e("v-badge",{attrs:{overlap:""},scopedSlots:t._u([{key:"badge",fn:function(){return[e("span",{staticClass:"caption"},[t._v(t._s(t.countNewMessages))])]},proxy:!0}],null,!0)},[t._v(" "),e("v-icon",{attrs:{color:"primary"}},[t._v("mdi-chat")])],1)],1)]}}])},[t._v(" "),e("v-card",[e("v-list",{attrs:{dense:""}},[e("v-subheader",[e("router-link",{attrs:{to:"inbox"}},[e("h6",[t._v("Open Messages")])])],1),t._v(" "),e("v-divider"),t._v(" "),t._l(t.getNewMessages,(function(r){return e("v-list-item",{key:r.id,attrs:{link:""},on:{click:function(e){return e.stopPropagation(),t.readMessage(r.id,r.senderId===t.myUserProfile.userId?r.recieverId:r.senderId)}}},[e("v-list-item-icon",[e("v-avatar",{attrs:{size:"35"}},[e("v-img",{attrs:{alt:"",src:"".concat(t.uploads).concat("SINGLE_CAST"===r.chatType?r.profilePicture:r.logoUrl)}})],1)],1),t._v(" "),e("v-list-item-title",{staticClass:"primary--text"},[t._v(t._s("SINGLE_CAST"===r.chatType?r.userName:r.label)+"\n              "),e("br"),t._v("\n              "+t._s("text"===r.contentType?r.message:"File Data"))])],1)})),t._v(" "),t.countNewMessages<1?e("v-list-item",[e("v-list-item-title",{staticClass:"primary--text"},[t._v("You have no new messages yet...")])],1):t._e()],2)],1)],1),t._v(" "),e("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(r){var i=r.on;return[e("v-btn",t._g({attrs:{dark:"",icon:""}},i),[t.countNewNotifications<1?e("v-icon",{attrs:{color:"primary"}},[t._v("mdi-bell")]):e("v-badge",{attrs:{overlap:""},scopedSlots:t._u([{key:"badge",fn:function(){return[e("span",{staticClass:"caption"},[t._v(t._s(t.countNewNotifications))])]},proxy:!0}],null,!0)},[t._v(" "),e("v-icon",{attrs:{color:"primary"}},[t._v("mdi-bell")])],1)],1)]}}])},[t._v(" "),e("v-card",[e("v-list",{attrs:{dense:""}},[e("v-subheader",[e("h6",[t._v("Notifications")])]),t._v(" "),e("v-divider"),t._v(" "),t._l(t.getUserNotifications,(function(r){return e("v-list-item",{key:r.id,attrs:{link:""},on:{click:function(e){return e.stopPropagation(),t.getNotificationDetails(r.id)}}},[e("v-list-item-icon",[e("v-avatar",{attrs:{size:"35"}},[e("v-img",{attrs:{alt:"",src:"".concat(t.uploads).concat(r.iconUrl)}})],1)],1),t._v(" "),e("v-list-item-title",{staticClass:"primary--text"},[t._v(t._s(r.message)+" "),e("br"),t._v("\n              "+t._s(r.creationTime))])],1)})),t._v(" "),t.countNewNotifications<1?e("v-list-item",[e("v-list-item-title",{staticClass:"primary--text"},[t._v("You have no notifications yet...")])],1):t._e()],2)],1)],1),t._v(" "),e("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(r){var i=r.on;return[e("v-btn",t._g({attrs:{dark:"",icon:""}},i),[e("v-icon",{attrs:{color:"primary"}},[t._v("mdi-shield-account")])],1)]}}])},[t._v(" "),e("v-card",[e("v-list",{attrs:{dense:""}},[e("v-container",[e("v-switch",{attrs:{inset:"",label:"Dark Mode"},on:{change:t.switchTheme},model:{value:t.themeSwitch,callback:function(e){t.themeSwitch=e},expression:"themeSwitch"}})],1),t._v(" "),e("v-divider"),t._v(" "),t._l(t.settings,(function(r){return e("v-list-item",{key:"notification-key-".concat(r.id),attrs:{link:"",to:r.href}},[e("v-list-item-icon",[e("v-icon",{attrs:{color:"primary"}},[t._v(t._s(r.icon))])],1),t._v(" "),e("v-list-item-title",{staticClass:"primary--text"},[t._v(t._s(r.title))])],1)}))],2)],1)],1)],1),t._v(" "),e("v-main",[e("v-container",{staticClass:"px-2 py-12 fill-height col-md-12",attrs:{lg:"12",fluid:""}},[e("v-row",{staticClass:"fill-height"},[e("v-col",[e("transition",{attrs:{name:"fade"}},[e("router-view")],1)],1)],1)],1),t._v(" "),e("v-footer",{staticClass:"py-3",attrs:{app:""}},[e("v-fab-transition",[e("v-btn",{staticStyle:{"z-index":"10",bottom:"30px"},attrs:{color:"green",fab:"",absolute:"",dark:"",bottom:"",left:""},on:{click:t.LiveChat}},[e("v-icon",[t._v("mdi-wechat")])],1)],1),t._v(" "),e("span",{staticClass:"ml-auto overline"},[t._v("NSIIMBI.COM ©"+t._s((new Date).getFullYear()))])],1)],1)],1)}),[],!1,null,null,null).exports},1900:(t,e,r)=>{function i(t,e,r,i,n,o,s,a){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=c):n&&(c=a?function(){n.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var v=l.beforeCreate;l.beforeCreate=v?[].concat(v,c):[c]}return{exports:t,options:l}}r.d(e,{Z:()=>i})}}]);