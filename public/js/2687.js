"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2687],{306:(t,e,s)=>{s.d(e,{Z:()=>u});var i=s(629),r=s(2640);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function o(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){c(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function c(t,e,s){return(e=function(t){var e=function(t,e){if("object"!==n(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var i=s.call(t,e||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===n(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const l={props:["data"],data:function(){return{uploads:r.q6,findFriendsDialog:!1,queryText:""}},computed:o(o({},(0,i.rn)(["userSearch"])),(0,i.Se)(["getUserSearch"])),watch:{queryText:function(t){null!=t&&this.$store.dispatch("searchUsers",t)}},methods:{searchUsers:function(){this.$store.dispatch("searchUsers",this.queryText)},openUserPublicProfile:function(t){this.$router.push({path:"/userPublicProfile",query:{userIndex:t}})}}};const u=(0,s(1900).Z)(l,(function(){var t=this,e=t._self._c;return e("v-container",[e("v-row",[e("v-btn",{attrs:{outlined:"",rounded:"",color:"primary"},on:{click:function(e){t.findFriendsDialog=!0}}},[t._v("\n            Add New\n        ")]),t._v(" "),e("v-dialog",{attrs:{width:"500"},model:{value:t.findFriendsDialog,callback:function(e){t.findFriendsDialog=e},expression:"findFriendsDialog"}},[e("v-card",[e("v-card-title",{staticClass:"headline",attrs:{"primary-title":""}},[e("v-text-field",{attrs:{"append-icon":"mdi-shield-account",label:"Find Friends","hide-details":"",dense:"",outlined:""},on:{change:t.searchUsers},model:{value:t.queryText,callback:function(e){t.queryText=e},expression:"queryText"}})],1),t._v(" "),e("v-divider"),t._v(" "),e("v-card-text",t._l(t.getUserSearch,(function(s){return e("v-col",{key:s.id,attrs:{cols:"12",sm:"12",order:"-1","order-sm":"2"}},[e("v-card",{staticClass:"px-2 py-2",on:{click:function(e){return t.openUserPublicProfile(s.id)}}},[e("v-row",[e("v-col",{staticClass:"py-4 center",attrs:{cols:"12","offset-sm":"0",sm:"3"}},[e("v-avatar",{attrs:{size:"60"}},[e("v-img",{staticClass:"card-img",attrs:{src:"".concat(t.uploads).concat(s.profile_picture)}})],1)],1),t._v(" "),e("v-col",{attrs:{cols:"12",sm:"8"}},[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("h2",{staticClass:"title cyan--text hover"},[t._v("\n                                                "+t._s(s.name)+"\n                                            ")]),t._v(" "),e("p",{staticClass:"font-weight-light grey--text text--darken-1 body-2"},[t._v("\n                                                @"+t._s(s.user_name)+"\n                                            ")])])],1)],1)],1)],1)],1)})),1)],1)],1)],1)],1)}),[],!1,null,null,null).exports},2687:(t,e,s)=>{s.r(e),s.d(e,{default:()=>v});var i=s(629),r=s(538),n=s(2640);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function c(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){l(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function l(t,e,s){return(e=function(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var s=t[Symbol.toPrimitive];if(void 0!==s){var i=s.call(t,e||"default");if("object"!==a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const u={components:{AddFriend:s(306).Z},data:function(){return{uploads:n.q6,tab:0,tabs:[{name:"Messages",icon:"mdi-email"},{name:"Contacts",icon:"mdi-contacts"}],overlay:!1,sidebarMenu:!0,toggleMini:!1,themeSwitch:!1,theme:!1,settings:[{id:1,title:"My Account",icon:"mdi-shield-account",href:"/profileSettings"},{id:3,title:"Change Password",icon:"mdi-cog",href:"/passwordSettings"},{id:4,title:"Logout",icon:"mdi-key-outline",href:"/login"}],messageTitles:[{id:"image",name:"ðŸ–¼ Image"},{id:"video",name:"ðŸŽ¬ Video"},{id:"contact",name:"ðŸ‘¤ Contact"},{id:"location",name:"ðŸ—º Location"},{id:"file",name:"ðŸ’¾ Document"},{id:"audio",name:"ðŸ”Š Voice Note"}]}},beforeCreate:function(){this.$store.dispatch("getMyProfile"),this.$store.dispatch("getChats"),this.$store.dispatch("fetchNewMessages"),this.$store.dispatch("fetchUserNotifications"),this.$store.dispatch("fetchFriends")},computed:c(c(c({},(0,i.rn)(["friends","chats","myUserProfile","newMessages","userNotifications"])),(0,i.Se)(["messageAlert","getFriends","getChats","myUserProfile","getNewMessages","getUserNotifications"])),{},{countNewNotifications:function(){return this.getUserNotifications.length>0?this.getUserNotifications.length:0},countNewMessages:function(){return this.getNewMessages.length>0?this.getNewMessages.length:0}}),watch:{messageAlert:function(t){null!=t&&(r.default.notify({group:"foo",title:t.title,text:t.body,type:t.type}),this.$store.dispatch("getMyProfile"),this.$store.dispatch("getChats"),this.$store.dispatch("fetchNewMessages"),this.$store.dispatch("fetchUserNotifications"),this.$store.dispatch("fetchFriends"))},myUserProfile:function(t){null!=t&&t.level>1&&(this.settings[3]={id:5,title:"Admin",icon:"mdi-cog",href:"/admin"})},chats:function(t){null!=t&&this.scrollToElement()}},mounted:function(){"light"==localStorage.getItem("theme")?(this.themeSwitch=!1,this.theme=!1):(this.themeSwitch=!0,this.theme=!0)},methods:{switchTheme:function(t){t?localStorage.setItem("theme","dark"):localStorage.setItem("theme","light"),console.log("THEME:::",t),setTimeout((function(){window.location.reload()}),500)},markDeleted:function(t){t.deleted=!0},restoreToInbox:function(t){t.deleted=!1},countItems:function(t){return 0},readMessage:function(t,e,s){this.myUserProfile.id+""!=e+""||"SINGLE_CAST"!==s?this.$router.push({path:"/chat",query:{chatId:t,userId:e}}):this.$router.push({path:"/profileSettings",query:{}})},SendMessage:function(){var t=new FormData;t.append("contentType","text"),t.append("message",this.messageContent),t.append("chatId",this.chatId),t.append("recieverId",this.recieverId),this.messageContent="",this.$store.dispatch("sendMessage",t)},handleImageChange:function(t){var e=t.target.files[0],s=new FormData;s.append("image",e),s.append("contentType","image"),s.append("message",this.messageContent),s.append("chatId",this.chatId),s.append("recieverId",this.recieverId),this.messageContent="",this.$store.dispatch("sendMessage",s)},pickAttachment:function(){document.getElementById("imageInput").click()},isMyMessage:function(t){return t.senderId!==this.userSelected.id},decodeTextMessage:function(t){return t=(t=t.replace(/\+/g,"%20")).replace(/\<br>/g,"\n"),decodeURIComponent(t)},getMessageTitle:function(t){var e=t;return this.messageTitles.forEach((function(s){t===s.id&&(e=s.name)})),e},scrollToElement:function(){var t=this.$refs.scrollToMe;t&&t.scrollIntoView({behavior:"smooth"})},openUserPublicProfile:function(t){this.$router.push({path:"/userPublicProfile",query:{userIndex:t}})}}};const v=(0,s(1900).Z)(u,(function(){var t=this,e=t._self._c;return e("v-app",{staticClass:"fill-height"},[e("v-app-bar",{attrs:{app:""}},[e("v-app-bar-nav-icon",{attrs:{to:"/home"}},[e("v-icon",[t._v("mdi-arrow-left-thick")])],1),t._v(" "),e("v-toolbar-title",[t._v("Inbox")]),t._v(" "),e("v-spacer"),t._v(" "),e("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[e("v-btn",t._g({attrs:{dark:"",icon:""}},i),[t.countNewMessages<1?e("v-icon",{attrs:{color:"primary"}},[t._v("mdi-chat")]):e("v-badge",{attrs:{overlap:""},scopedSlots:t._u([{key:"badge",fn:function(){return[e("span",{staticClass:"caption"},[t._v(t._s(t.countNewMessages))])]},proxy:!0}],null,!0)},[t._v(" "),e("v-icon",{attrs:{color:"primary"}},[t._v("mdi-chat")])],1)],1)]}}])},[t._v(" "),e("v-card",[e("v-list",{attrs:{dense:""}},[e("v-subheader",[e("router-link",{attrs:{to:"inbox"}},[e("h6",[t._v("Open Messages")])])],1),t._v(" "),e("v-divider"),t._v(" "),t._l(t.getNewMessages,(function(s){return e("v-list-item",{key:s.id,attrs:{link:""},on:{click:function(e){return e.stopPropagation(),t.readMessage(s.id,s.senderId===t.myUserProfile.id+""?s.recieverId:s.senderId)}}},[e("v-list-item-icon",[e("v-avatar",{attrs:{size:"35"}},[e("v-img",{attrs:{alt:"",src:"".concat(t.uploads).concat("SINGLE_CAST"===s.chatType?s.profilePicture:s.logoUrl)}})],1)],1),t._v(" "),e("v-list-item-title",{staticClass:"primary--text"},[t._v(t._s("SINGLE_CAST"===s.chatType?s.userName:s.label)+"\n                            "),e("br"),t._v("\n                            "+t._s("text"===s.contentType?s.message:"File Data"))])],1)})),t._v(" "),t.countNewMessages<1?e("v-list-item",[e("v-list-item-title",{staticClass:"primary--text"},[t._v("You have no new messages\n                            yet...")])],1):t._e()],2)],1)],1),t._v(" "),e("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[e("v-btn",t._g({attrs:{dark:"",icon:""}},i),[t.countNewNotifications<1?e("v-icon",{attrs:{color:"primary"}},[t._v("mdi-bell")]):e("v-badge",{attrs:{overlap:""},scopedSlots:t._u([{key:"badge",fn:function(){return[e("span",{staticClass:"caption"},[t._v(t._s(t.countNewNotifications))])]},proxy:!0}],null,!0)},[t._v(" "),e("v-icon",{attrs:{color:"primary"}},[t._v("mdi-bell")])],1)],1)]}}])},[t._v(" "),e("v-card",[e("v-list",{attrs:{dense:""}},[e("v-subheader",[e("h6",[t._v("Notifications")])]),t._v(" "),e("v-divider"),t._v(" "),t._l(t.getUserNotifications,(function(s){return e("v-list-item",{key:s.id,attrs:{link:""},on:{click:function(e){return e.stopPropagation(),t.getNotificationDetails(s.id)}}},[e("v-list-item-icon",[e("v-avatar",{attrs:{size:"35"}},[e("v-img",{attrs:{alt:"",src:"".concat(t.uploads).concat(s.iconUrl)}})],1)],1),t._v(" "),e("v-list-item-title",{staticClass:"primary--text"},[t._v(t._s(s.message)+" "),e("br"),t._v("\n                            "+t._s(s.creationTime))])],1)})),t._v(" "),t.countNewNotifications<1?e("v-list-item",[e("v-list-item-title",{staticClass:"primary--text"},[t._v("You have no notifications\n                            yet...")])],1):t._e()],2)],1)],1),t._v(" "),e("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(s){var i=s.on;return[e("v-btn",t._g({attrs:{dark:"",icon:""}},i),[e("v-icon",{attrs:{color:"primary"}},[t._v("mdi-shield-account")])],1)]}}])},[t._v(" "),e("v-card",[e("v-list",{attrs:{dense:""}},[e("v-container",[e("v-switch",{attrs:{inset:"",label:"Dark Mode"},on:{change:t.switchTheme},model:{value:t.themeSwitch,callback:function(e){t.themeSwitch=e},expression:"themeSwitch"}})],1),t._v(" "),e("v-divider"),t._v(" "),t._l(t.settings,(function(s){return e("v-list-item",{key:"notification-key-".concat(s.id),attrs:{link:"",to:s.href}},[e("v-list-item-icon",[e("v-icon",{attrs:{color:"primary"}},[t._v(t._s(s.icon))])],1),t._v(" "),e("v-list-item-title",{staticClass:"primary--text"},[t._v(t._s(s.title))])],1)}))],2)],1)],1)],1),t._v(" "),e("v-divider"),t._v(" "),e("v-main",[e("v-container",{attrs:{fluid:""}},[e("v-card",[e("v-row",{staticClass:"py-0 px-2 elevation-2"},[e("v-col",{staticClass:"py-1 elevation-2",attrs:{lg:"4",grow:""}},[e("v-tabs",{staticClass:"fill-width",attrs:{"show-arrows":"",grow:"",height:"60px"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("v-tabs-slider",{attrs:{color:"primary"}}),t._v(" "),t._l(t.tabs,(function(s){return e("v-tab",{key:s},[e("div",{staticClass:"caption py-1"},[t._v("\n                                    "+t._s(s.name)+"\n                                    "),e("v-icon",{domProps:{textContent:t._s(s.icon)}})],1)])}))],2),t._v(" "),e("v-tabs-items",{staticClass:"pa-4",attrs:{grow:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("v-tab-item",[e("v-container",{ref:"scrollToMe",staticClass:"flex-grow-1 overflow-y-auto fill-height pa-0",staticStyle:{"max-height":"63vh"},attrs:{"fill-height":"",height:"100%"}},[e("v-responsive",[0===t.getChats.length?e("div",{staticClass:"text-center px-2"},[t._v("\n                                            You have no chats yes\n                                        ")]):t._e(),t._v(" "),t._l(t.getChats,(function(s,i){return e("v-row",{key:i,staticClass:"mb-5 pb-2 elevation-1",attrs:{"align-center":""}},[e("v-col",{attrs:{lg:"3",cols:"12"}},[e("v-avatar",{attrs:{size:"70",height:"70"}},[e("v-img",{attrs:{alt:"",src:"".concat(t.uploads).concat("SINGLE_CAST"!==s.chatType&&t.myUserProfile.id+""===s.chatSenderId?s.logoUrl:s.profile_picture)}})],1)],1),t._v(" "),e("v-col",{attrs:{lg:"9",cols:"12"}},[e("v-row",{staticClass:"mt-1 pb-2"},[e("v-col",{staticClass:"py-0",style:{cursor:"pointer"},attrs:{sm:"8",cols:"8"},on:{click:function(e){return e.stopPropagation(),t.readMessage(s.id,s.userId,s.chatType)}}},[e("h4",{class:s.read?"":"font-italic"},[t._v("\n                                                            "+t._s("SINGLE_CAST"!==s.chatType?t.myUserProfile.id+""===s.chatSenderId?s.label:"CC: "+s.name:s.name)+"\n\n                                                            "),e("v-icon",{directives:[{name:"show",rawName:"v-show",value:s.read,expression:"\n                                                                    message.read\n                                                                "}],attrs:{small:"",title:"Read"}},[t._v("mdi-check")])],1)]),t._v(" "),e("v-col",{staticClass:"text-right caption py-0",attrs:{sm:"4",cols:"4"}},[t._v("\n                                                        "+t._s(s.sentTime)+"\n                                                    ")]),t._v(" "),e("v-col",{staticClass:"py-0",attrs:{cols:"12"},on:{click:function(e){return t.readMessage(s.id,s.userId,s.chatType)}}},[e("div",[t._v("\n                                                            "+t._s(t.decodeTextMessage("text"===s.contentType?s.message:t.getMessageTitle(s.contentType)))+"\n                                                        ")])])],1)],1)],1)}))],2)],1)],1),t._v(" "),e("v-tab-item",[e("v-container",{ref:"scrollToMe",staticClass:"flex-grow-1 overflow-y-auto fill-height pa-0",staticStyle:{"max-height":"63vh"},attrs:{"fill-height":"",height:"100%"}},[e("v-responsive",{staticClass:"overflow-y-hidden fill-height"},[e("v-row",{staticClass:"no-gutters"},[e("div",{staticClass:"col-auto"},[e("div",{staticClass:"cyan fill-height"},[t._v("\n                                                    Â \n                                                ")])]),t._v(" "),e("div",{staticClass:"col pa-3 py-5 cyan--text"},[e("h5",{staticClass:"text-truncate text-uppercase"},[t._v("\n                                                    My Contacts\n                                                ")])]),t._v(" "),e("v-card-actions",[e("AddFriend")],1)],1),t._v(" "),0===t.getFriends.length?e("div",{staticClass:"text-center px-2"},[t._v("\n                                            You have no contacts here\n                                        ")]):t._e(),t._v(" "),t._l(t.getFriends,(function(s,i){return e("v-row",{key:i,staticClass:"mb-5 pb-2 elevation-1",attrs:{"align-center":""}},[e("v-col",{attrs:{lg:"3",cols:"12"}},[e("v-avatar",{attrs:{size:"70",height:"70"}},[e("v-img",{attrs:{alt:"",src:"".concat(t.uploads).concat(s.profile_picture)}})],1)],1),t._v(" "),e("v-col",{attrs:{lg:"9",cols:"12"}},[e("v-row",{staticClass:"mt-1 pb-2"},[e("v-col",{staticClass:"py-0",style:{cursor:"pointer"},attrs:{sm:"12",cols:"12"},on:{click:function(e){return t.readMessage(s.chatId,s.userId===t.myUserProfile.id+""?s.accountId:s.userId,"SINGLE_CAST")}}},[e("h4",[t._v("\n                                                            "+t._s(s.name)+"\n                                                            "),e("v-icon",{directives:[{name:"show",rawName:"v-show",value:s.read,expression:"\n                                                                    userProfile.read\n                                                                "}],attrs:{small:"",title:"Read"}},[t._v("mdi-check")])],1)]),t._v(" "),e("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[e("div",[t._v("\n                                                            @"+t._s(s.user_name)+"\n                                                        ")])])],1)],1)],1)}))],2)],1)],1)],1)],1),t._v(" "),e("v-col",{staticClass:"py-1 elevation-2",attrs:{lg:"8",grow:""}},[e("transition",{attrs:{name:"fade",fluid:""}},[e("router-view")],1)],1)],1)],1),t._v(" "),e("div",{staticClass:"overline mb-1 pt-6",staticStyle:{"text-align":"center"}},[t._v("\n                Manage & track all your shipments.\n            ")])],1),t._v(" "),e("v-footer",{staticClass:"py-3",attrs:{app:""}},[e("span",{staticClass:"ml-auto overline"},[t._v("NSIIMBI.COM Â©"+t._s((new Date).getFullYear()))])])],1)],1)}),[],!1,null,null,null).exports},1900:(t,e,s)=>{function i(t,e,s,i,r,n,a,o){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=s,l._compiled=!0),i&&(l.functional=!0),n&&(l._scopeId="data-v-"+n),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},l._ssrRegister=c):r&&(c=o?function(){r.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:r),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var v=l.beforeCreate;l.beforeCreate=v?[].concat(v,c):[c]}return{exports:t,options:l}}s.d(e,{Z:()=>i})}}]);