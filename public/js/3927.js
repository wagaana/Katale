"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3927],{3927:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var r=n(629),a=n(538),s=n(2640);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u={data:function(){return{uploads:s.q6,languages_options:s.mQ,mPaymentMethod:{},newCurrency:{},activeCurrency:{},composeMessage:{},dialogNewPaymentMethod:!1,createNewCurrency:!1,viewCurrency:!1,search:"",payment_method_valid:!1,currency_valid:!1,rules:{required:function(e){return!!e||"This field is required"},email:function(e){return/.+@.+\..+/.test(e)||"Must be a valid email"}},headers:[{text:"Currency",align:"left",sortable:!1,value:"currency"},{text:"Buy",value:"buy"},{text:"Exchange",value:"exchangeRate"},{text:"Sell",value:"sell"},{text:"Currency",value:"name"},{text:"Country",value:"entity"},{text:"Time Added",value:"created_at"}],paymentCategories:[{text:"Mobile Money",value:"MOBILE_MONEY"},{text:"Bank Transfer",value:"BANK_TRANSFER"},{text:"PayPal",value:"PAYPAL"},{text:"Card",value:"CARD"},{text:"Cash",value:"CASH"}],yesAndNo:[{text:"Yes",value:"true"},{text:"No",value:"false"}]}},beforeCreate:function(){this.$store.dispatch("loadAllPaymentMethods"),this.$store.dispatch("fetchSupportedCurrencies"),this.$store.dispatch("fetchSupportedCountries")},computed:o(o({},(0,r.rn)(["suportedCurrencies","allPaymentMethods","paymentMethodCurencies","suportedCountries"])),(0,r.Se)(["getSuportedCurrencies","getAllPaymentMethods","getPaymentMethodCurencies","getActivePaymentMethod","messageAlert","getSuportedCountries"])),created:function(){this.$store.dispatch("loadPaymentMethodCurencies",this.getActivePaymentMethod)},watch:{messageAlert:function(e){null!=e&&(this.$store.dispatch("loadAllPaymentMethods"),this.$store.dispatch("loadPaymentMethodCurencies",this.getActivePaymentMethod),this.$store.dispatch("fetchSupportedCountries"),a.default.notify({group:"foo",title:"Success",text:e.body}))},getActivePaymentMethod:function(e){null!=e&&(this.$store.dispatch("loadAllPaymentMethods"),this.$store.dispatch("fetchSupportedCurrencies"),this.$store.dispatch("loadPaymentMethodCurencies",e),this.$store.dispatch("fetchSupportedCountries"))}},methods:{validateCurrencyForm:function(){this.$refs.currencyForm.validate()&&this.submitNewCurrency(this.newCurrency)},validatePaymentMethod:function(){this.$refs.paymentMethodForm.validate()&&this.createPaymentMethod(this.mPaymentMethod)},createPaymentMethod:function(e){this.dialogNewPaymentMethod=!1,e.localizationId=this.getActivePaymentMethod,this.$store.dispatch("createPaymentMethod",e)},submitNewCurrency:function(e){this.dialogNewPaymentMethod=!1,this.createNewCurrency=!1,e.paymentMethod=this.getActivePaymentMethod,this.$store.dispatch("createNewCurrency",e)},setActivePaymentMethod:function(e){this.$store.dispatch("setActivePaymentMethod",e)},displayCurrency:function(e){this.activeCurrency=e,this.viewCurrency=!0},deleteCurrency:function(e){this.viewCurrency=!1,this.$store.dispatch("deleteActiveCurrency",e.code)},paymentMethodSettings:function(){this.$router.push({path:"/admin/paymentMethods/"+this.getActivePaymentMethod})},OpenCuccencyDetails:function(e){this.$router.push({path:"/admin/paymentMethods/"+this.getActivePaymentMethod+"/"+e.code})}}};const d=(0,n(1900).Z)(u,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("v-row",[t("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[t("h1",{staticClass:"font-weight-light mb-0"},[e._v("Payment Methods")]),e._v(" "),t("span",{staticClass:"overline"},[e._v("Manage system Payment Methods Settings Here")]),e._v(" "),t("v-card",{staticClass:"py-6"},[t("v-row",{staticClass:"row px-2"},[t("v-col",{staticClass:"py-6",attrs:{lg:"3",cols:"12"}},[t("v-row",[t("v-col",{staticClass:"col-md-12"},[t("v-btn",{staticClass:"primary",attrs:{width:"100%"},on:{click:function(t){e.dialogNewPaymentMethod=!0}}},[t("v-icon",[e._v("mdi-plus")]),e._v("New Method")],1)],1)],1),e._v(" "),t("v-card",[t("v-list",{attrs:{dense:"",nav:""}},e._l(e.getAllPaymentMethods,(function(n){return t("v-list-item",{key:n.code,attrs:{link:"",to:n.href,color:n.code+""==e.getActivePaymentMethod+""?"red":"black"},on:{click:function(t){return e.setActivePaymentMethod(n.code)}}},[t("v-list-item-icon",[n.code+""==e.getActivePaymentMethod+""?t("div",{staticClass:"cyan fill-height"},[e._v("\n                       \n                    ")]):e._e(),e._v("\n                     \n                    "),t("v-img",{attrs:{width:"25",height:"25",src:"".concat(e.uploads).concat(n.image)}})],1),e._v(" "),t("v-list-item-content",[t("v-list-item-title",[e._v(e._s("".concat(n.label," (").concat(n.code,")")))])],1)],1)})),1)],1)],1),e._v(" "),t("v-col",{staticClass:"py-6",attrs:{lg:"9",cols:"12"}},[t("div",[t("v-row",[t("v-col",[t("v-btn",{staticClass:"primary",on:{click:function(t){e.createNewCurrency=!0}}},[e._v("New Currency")])],1),e._v(" "),t("v-col",{staticClass:"py-1",attrs:{lg:"1"}},[t("v-card-text",{staticClass:"layout justify-center py-3 pa-0",staticStyle:{cursor:"pointer"},on:{click:e.paymentMethodSettings}},[t("v-icon",{staticClass:"blue--text text--lighten-2 text-xs-center",attrs:{large:""}},[e._v("mdi-cog")])],1)],1),e._v(" "),t("v-col",[t("v-text-field",{attrs:{"append-icon":"mdi-currency-usd",label:"Search","hide-details":"",dense:"",outlined:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),e._v(" "),t("v-card",{staticClass:"py-2 pa-0"},[t("v-data-table",{attrs:{headers:e.headers,items:e.getPaymentMethodCurencies,"item-key":"id"},scopedSlots:e._u([{key:"item",fn:function(n){var r=n.item;return[t("tr",{on:{click:function(t){return e.displayCurrency(r)}}},[t("td",[e._v(e._s(r.currency))]),e._v(" "),t("td",[e._v(e._s(r.buy))]),e._v(" "),t("td",[e._v(e._s(r.exchangeRate))]),e._v(" "),t("td",[e._v(e._s(r.sell))]),e._v(" "),t("td",[e._v(e._s(r.name))]),e._v(" "),t("td",[e._v(e._s(r.entity))]),e._v(" "),t("td",[e._v(e._s(r.created_at))])])]}}])})],1),e._v(" "),t("v-dialog",{attrs:{width:"500"},model:{value:e.dialogNewPaymentMethod,callback:function(t){e.dialogNewPaymentMethod=t},expression:"dialogNewPaymentMethod"}},[t("v-card",[t("v-card-title",{staticClass:"headline black",attrs:{"primary-title":""}},[e._v("\n                    Create Payment Method\n                  ")]),e._v(" "),t("v-card-text",{staticClass:"pa-5"},[t("v-form",{ref:"paymentMethodForm",attrs:{"lazy-validation":""},model:{value:e.payment_method_valid,callback:function(t){e.payment_method_valid=t},expression:"payment_method_valid"}},[t("v-text-field",{attrs:{label:"Label",rules:[e.rules.required],outlined:"",dense:""},model:{value:e.mPaymentMethod.label,callback:function(t){e.$set(e.mPaymentMethod,"label",t)},expression:"mPaymentMethod.label"}}),e._v(" "),t("v-autocomplete",{attrs:{items:e.getSuportedCountries,label:"Select Country","item-text":"name","item-value":"code",rules:[e.rules.required],outlined:"",dense:""},model:{value:e.mPaymentMethod.country,callback:function(t){e.$set(e.mPaymentMethod,"country",t)},expression:"mPaymentMethod.country"}}),e._v(" "),t("v-textarea",{attrs:{label:"Description",rules:[e.rules.required],outlined:"",lines:"2",dense:""},model:{value:e.mPaymentMethod.description,callback:function(t){e.$set(e.mPaymentMethod,"description",t)},expression:"mPaymentMethod.description"}}),e._v(" "),t("v-select",{attrs:{items:e.paymentCategories,label:"Payment Method Category","item-text":"text","item-value":"value",rules:[e.rules.required],outlined:"",dense:""},model:{value:e.mPaymentMethod.category,callback:function(t){e.$set(e.mPaymentMethod,"category",t)},expression:"mPaymentMethod.category"}}),e._v(" "),t("p",{staticClass:"pb-1"},[e._v("Can Deposit")]),e._v(" "),t("v-select",{attrs:{items:e.yesAndNo,label:"Pick Option","item-text":"text","item-value":"value",rules:[e.rules.required],outlined:"",dense:""},model:{value:e.mPaymentMethod.canDeposit,callback:function(t){e.$set(e.mPaymentMethod,"canDeposit",t)},expression:"mPaymentMethod.canDeposit"}}),e._v(" "),t("p",{staticClass:"pb-1"},[e._v("Can Send")]),e._v(" "),t("v-select",{attrs:{items:e.yesAndNo,label:"Pick Option","item-text":"text","item-value":"value",rules:[e.rules.required],outlined:"",dense:""},model:{value:e.mPaymentMethod.canSend,callback:function(t){e.$set(e.mPaymentMethod,"canSend",t)},expression:"mPaymentMethod.canSend"}}),e._v(" "),t("v-text-field",{attrs:{label:"Code",rules:[e.rules.required],outlined:"",dense:""},model:{value:e.mPaymentMethod.code,callback:function(t){e.$set(e.mPaymentMethod,"code",t)},expression:"mPaymentMethod.code"}}),e._v(" "),t("v-file-input",{attrs:{label:"Icon",rules:[e.rules.required],outlined:"",dense:""},model:{value:e.mPaymentMethod.image,callback:function(t){e.$set(e.mPaymentMethod,"image",t)},expression:"mPaymentMethod.image"}})],1)],1),e._v(" "),t("v-card-actions",{staticClass:"pa-5"},[t("v-btn",{staticClass:"ml-auto",attrs:{outlined:"",color:"primary"},on:{click:function(t){e.dialogNewPaymentMethod=!1}}},[e._v("Cancel")]),e._v(" "),t("v-btn",{attrs:{color:"primary",disabled:!e.payment_method_valid},on:{click:e.validatePaymentMethod}},[e._v("Create")])],1)],1)],1),e._v(" "),t("v-dialog",{attrs:{width:"400"},model:{value:e.createNewCurrency,callback:function(t){e.createNewCurrency=t},expression:"createNewCurrency"}},[t("v-card",[t("v-card-title",{staticClass:"headline black",attrs:{"primary-title":""}},[e._v("\n                    Add New Currency\n                  ")]),e._v(" "),t("v-card-text",{staticClass:"pa-5"},[t("v-form",{ref:"currencyForm",attrs:{"lazy-validation":""},model:{value:e.currency_valid,callback:function(t){e.currency_valid=t},expression:"currency_valid"}},[t("v-autocomplete",{attrs:{items:e.getSuportedCurrencies,label:"Select Currency","item-text":"name","item-value":"code",rules:[e.rules.required],outlined:"",dense:""},model:{value:e.newCurrency.currency,callback:function(t){e.$set(e.newCurrency,"currency",t)},expression:"newCurrency.currency"}}),e._v(" "),t("v-text-field",{attrs:{label:"Exchange Rate",rules:[e.rules.required],outlined:"",dense:""},model:{value:e.newCurrency.exchangeRate,callback:function(t){e.$set(e.newCurrency,"exchangeRate",t)},expression:"newCurrency.exchangeRate"}}),e._v(" "),t("v-text-field",{attrs:{label:"Buy Ammount",rules:[e.rules.required],outlined:"",dense:""},model:{value:e.newCurrency.buy,callback:function(t){e.$set(e.newCurrency,"buy",t)},expression:"newCurrency.buy"}}),e._v(" "),t("v-text-field",{attrs:{label:"Sell Ammount",rules:[e.rules.required],outlined:"",dense:""},model:{value:e.newCurrency.sell,callback:function(t){e.$set(e.newCurrency,"sell",t)},expression:"newCurrency.sell"}}),e._v(" "),t("v-text-field",{attrs:{label:"Charge Percentage",rules:[e.rules.required],outlined:"",dense:""},model:{value:e.newCurrency.chargePercentage,callback:function(t){e.$set(e.newCurrency,"chargePercentage",t)},expression:"newCurrency.chargePercentage"}}),e._v(" "),t("v-text-field",{attrs:{label:"Transaction Fee",rules:[e.rules.required],outlined:"",dense:""},model:{value:e.newCurrency.transactionFee,callback:function(t){e.$set(e.newCurrency,"transactionFee",t)},expression:"newCurrency.transactionFee"}})],1)],1),e._v(" "),t("v-card-actions",{staticClass:"pa-5"},[t("v-btn",{staticClass:"ml-auto",attrs:{outlined:"",color:"primary"},on:{click:function(t){e.createNewCurrency=!1}}},[e._v("Cancel")]),e._v(" "),t("v-btn",{attrs:{color:"primary",disabled:!e.currency_valid},on:{click:e.validateCurrencyForm}},[e._v("Create")])],1)],1)],1),e._v(" "),t("v-dialog",{attrs:{width:"400"},model:{value:e.viewCurrency,callback:function(t){e.viewCurrency=t},expression:"viewCurrency"}},[t("v-card",[t("v-card-title",{staticClass:"headline",attrs:{"primary-title":""}},[e._v("\n                    "+e._s(e.activeCurrency.name)+"\n                  ")]),e._v(" "),t("v-card-text",{staticClass:"pa-5"},[t("p",[e._v("\n                      "+e._s(e.activeCurrency.code)+"\n                    ")]),e._v(" "),t("p",[e._v("\n                      Exchange Rate:\n                      "+e._s(e.activeCurrency.exchangeRate)+"\n                      "),t("br"),e._v("\n                      Country:\n                      "+e._s(e.activeCurrency.entity)+"\n                      "),t("br"),e._v("\n                      Created:\n                      "+e._s(e.activeCurrency.created_at)+"\n                    ")])]),e._v(" "),t("v-card-actions",{staticClass:"pa-5"},[t("v-btn",{attrs:{color:"red",outlined:""},on:{click:function(t){return e.deleteCurrency(e.activeCurrency)}}},[e._v("Delete")]),e._v(" "),t("v-btn",{staticClass:"ml-auto",attrs:{outlined:"",color:"primary"},on:{click:function(t){return e.OpenCuccencyDetails(e.activeCurrency)}}},[e._v("Details")])],1)],1)],1)],1)])],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports},1900:(e,t,n)=>{function r(e,t,n,r,a,s,i,c){var o,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),i?(o=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},l._ssrRegister=o):a&&(o=c?function(){a.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:a),o)if(l.functional){l._injectStyles=o;var u=l.render;l.render=function(e,t){return o.call(t),u(e,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,o):[o]}return{exports:e,options:l}}n.d(t,{Z:()=>r})}}]);