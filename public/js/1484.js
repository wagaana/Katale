"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1484],{1484:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var o=r(629),i=r(538),n=r(2640);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==a(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const u={data:function(){return{file:null,countries:n.hW,uploads:n.q6,escapeHtml:n.Xv,newCountry:{},activeCountry:{},composeMessage:{},dialogCompose:!1,dialogComposeEmail:!1,viewUserProfile:!1,valid:!1,rules:{required:function(e){return!!e||"This field is required"},email:function(e){return/.+@.+\..+/.test(e)||"Must be a valid email"}},headers:[{text:"Flag",value:"flag"},{text:"Name",align:"left",sortable:!1,value:"name"},{text:"Code",value:"code"},{text:"Dial Code",value:"dial_code"},{text:"Date Added",value:"created_at"}],systemUserLevels:[{id:"OWNER",label:"System Owner"},{id:"EDITOR",label:"System Editor"},{id:"VIEWER",label:"System Viewer"}]}},beforeCreate:function(){this.$store.dispatch("fetchSupportedCountries")},computed:l(l({},(0,o.rn)(["suportedCountries"])),(0,o.Se)(["getSuportedCountries","messageAlert"])),watch:{messageAlert:function(e){null!=e&&(i.default.notify({group:"foo",title:"Success",text:e.body}),this.$store.dispatch("fetchSupportedCountries"))}},methods:{loadCountry:function(e){this.activeCountry=e,this.viewUserProfile=!0},deleteCountry:function(e){this.$store.dispatch("deleteCountry",e.code),this.viewUserProfile=!1},composeEmail:function(e){this.viewUserProfile=!1,this.dialogComposeEmail=!0},validateEmail:function(){this.$refs.sendForm.validate()&&this.sendEmail(this.newCountry)},sendEmail:function(){alert("Sending")},validate:function(){this.$refs.sendForm.validate()&&this.createUser(this.newCountry)},createUser:function(e){this.dialogCompose=!1;var t=this.countries.findIndex((function(t){return t.code==e}));this.$store.dispatch("addSuportedCountry",this.countries[t])}}};const d=(0,r(1900).Z)(u,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("v-row",[t("v-col",{staticClass:"col-md-10 pr-md-1 sm-6"},[t("h1",{staticClass:"font-weight-light mb-2"},[e._v("Countries")]),e._v(" "),t("span",{staticClass:"overline"},[e._v("Manage Suported Countries here")])]),e._v(" "),t("v-col",{staticClass:"col-md-2 pr-md-1 fill-width"},[t("v-btn",{staticClass:"primary",on:{click:function(t){e.dialogCompose=!0}}},[e._v("New")])],1)],1),e._v(" "),t("v-card",{staticClass:"py-2 pa-0"},[t("v-data-table",{attrs:{headers:e.headers,items:e.getSuportedCountries,"item-key":"id"},scopedSlots:e._u([{key:"item",fn:function(r){var o=r.item;return[t("tr",{on:{click:function(t){return e.loadCountry(o)}}},[t("td",[e._v(e._s(JSON.parse(e.escapeHtml(o.flag))))]),e._v(" "),t("td",[e._v(e._s(o.name))]),e._v(" "),t("td",[e._v(e._s(o.code))]),e._v(" "),t("td",[e._v(e._s(o.dial_code))]),e._v(" "),t("td",[e._v(e._s(o.created_at))])])]}}])})],1),e._v(" "),t("v-dialog",{attrs:{width:"500"},model:{value:e.dialogCompose,callback:function(t){e.dialogCompose=t},expression:"dialogCompose"}},[t("v-card",[t("v-card-title",{staticClass:"headline black",attrs:{"primary-title":""}},[e._v("\n                New Country\n            ")]),e._v(" "),t("v-card-text",{staticClass:"pa-5"},[t("v-form",{ref:"sendForm",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t("v-autocomplete",{attrs:{items:e.countries,label:"Select Country","item-text":"name","item-value":"code",rules:[e.rules.required],outlined:"",dense:""},model:{value:e.newCountry,callback:function(t){e.newCountry=t},expression:"newCountry"}})],1)],1),e._v(" "),t("v-card-actions",{staticClass:"pa-5"},[t("v-btn",{staticClass:"ml-auto",attrs:{outlined:"",color:"primary"},on:{click:function(t){e.dialogCompose=!1}}},[e._v("Cancel")]),e._v(" "),t("v-btn",{attrs:{color:"primary",disabled:!e.valid},on:{click:e.validate}},[e._v("Add Country")])],1)],1)],1),e._v(" "),t("v-dialog",{attrs:{width:"400"},model:{value:e.viewUserProfile,callback:function(t){e.viewUserProfile=t},expression:"viewUserProfile"}},[t("v-card",[t("v-card-title",{staticClass:"headline",attrs:{"primary-title":""}},[e._v("\n                "+e._s(e.activeCountry.name)+"\n            ")]),e._v(" "),t("v-card-text",{staticClass:"pa-5"},[t("p",[e._v("\n                    CODE: "+e._s(e.activeCountry.dial_code)+"\n                    "),t("br"),e._v("\n                    DATE: "+e._s(e.activeCountry.created_at)+"\n                ")])]),e._v(" "),t("v-card-actions",{staticClass:"pa-5"},[t("v-btn",{attrs:{color:"red",outlined:""},on:{click:function(t){return e.deleteCountry(e.activeCountry)}}},[e._v("Delete")])],1)],1)],1)],1)}),[],!1,null,null,null).exports},1900:(e,t,r)=>{function o(e,t,r,o,i,n,a,s){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=r,c._compiled=!0),o&&(c.functional=!0),n&&(c._scopeId="data-v-"+n),a?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}r.d(t,{Z:()=>o})}}]);