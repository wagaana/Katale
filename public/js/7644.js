"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7644],{7644:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var n=r(629),i=r(538),o=r(2640);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const u={data:function(){return{file:null,currencies:o.QT,uploads:o.q6,escapeHtml:o.Xv,newCurrency:{},activeCurrency:{},composeMessage:{},dialogCompose:!1,dialogComposeEmail:!1,viewActiveCurrency:!1,valid:!1,rules:{required:function(e){return!!e||"This field is required"},email:function(e){return/.+@.+\..+/.test(e)||"Must be a valid email"}},headers:[{text:"Country",value:"entity"},{text:"Name",align:"left",sortable:!1,value:"name"},{text:"Code",value:"code"},{text:"Minor Unit",value:"minorUnit"},{text:"Date Added",value:"created_at"}],systemUserLevels:[{id:"OWNER",label:"System Owner"},{id:"EDITOR",label:"System Editor"},{id:"VIEWER",label:"System Viewer"}]}},beforeCreate:function(){this.$store.dispatch("fetchSupportedCurrencies")},computed:a(a({},(0,n.rn)(["suportedCurrencies"])),(0,n.Se)(["getSuportedCurrencies","messageAlert"])),watch:{messageAlert:function(e){null!=e&&(i.default.notify({group:"foo",title:"Success",text:e.body}),this.$store.dispatch("fetchSupportedCurrencies"))}},methods:{loadCurrency:function(e){this.activeCurrency=e,this.viewActiveCurrency=!0},deleteCurrency:function(e){this.$store.dispatch("deleteCurrency",e.code),this.viewActiveCurrency=!1},composeEmail:function(e){this.viewActiveCurrency=!1,this.dialogComposeEmail=!0},validateEmail:function(){this.$refs.sendForm.validate()&&this.sendEmail(this.newCurrency)},sendEmail:function(){alert("Sending")},validate:function(){this.$refs.sendForm.validate()&&this.createUser(this.newCurrency)},createUser:function(e){this.dialogCompose=!1;var t=this.currencies.findIndex((function(t){return t.AlphabeticCode==e}));console.log("addSuportedCurrency",this.currencies[t]),this.$store.dispatch("addSuportedCurrency",this.currencies[t])},OpenCuccencyDetails:function(e){this.$router.push({path:"/admin/settings/suportedCurrencies/"+e.code})}}};const d=(0,r(1900).Z)(u,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("v-row",[t("v-col",{staticClass:"col-md-10 pr-md-1 sm-6"},[t("h1",{staticClass:"font-weight-light mb-2"},[e._v("Currencies")]),e._v(" "),t("span",{staticClass:"overline"},[e._v("Manage Suported Currencies here")])]),e._v(" "),t("v-col",{staticClass:"col-md-2 pr-md-1 fill-width"},[t("v-btn",{staticClass:"primary",on:{click:function(t){e.dialogCompose=!0}}},[e._v("New")])],1)],1),e._v(" "),t("v-card",{staticClass:"py-2 pa-0"},[t("v-data-table",{attrs:{headers:e.headers,items:e.getSuportedCurrencies,"item-key":"id"},scopedSlots:e._u([{key:"item",fn:function(r){var n=r.item;return[t("tr",{on:{click:function(t){return e.loadCurrency(n)}}},[t("td",[e._v(e._s(n.entity))]),e._v(" "),t("td",[e._v(e._s(n.name))]),e._v(" "),t("td",[e._v(e._s(n.code))]),e._v(" "),t("td",[e._v(e._s(n.minorUnit))]),e._v(" "),t("td",[e._v(e._s(n.created_at))])])]}}])})],1),e._v(" "),t("v-dialog",{attrs:{width:"500"},model:{value:e.dialogCompose,callback:function(t){e.dialogCompose=t},expression:"dialogCompose"}},[t("v-card",[t("v-card-title",{staticClass:"headline black",attrs:{"primary-title":""}},[e._v("\n        New Currency\n      ")]),e._v(" "),t("v-card-text",{staticClass:"pa-5"},[t("v-form",{ref:"sendForm",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t("v-autocomplete",{attrs:{items:e.currencies,label:"Select Currency","item-text":"Currency","item-value":"AlphabeticCode",rules:[e.rules.required],outlined:"",dense:""},model:{value:e.newCurrency,callback:function(t){e.newCurrency=t},expression:"newCurrency"}})],1)],1),e._v(" "),t("v-card-actions",{staticClass:"pa-5"},[t("v-btn",{staticClass:"ml-auto",attrs:{outlined:"",color:"primary"},on:{click:function(t){e.dialogCompose=!1}}},[e._v("Cancel")]),e._v(" "),t("v-btn",{attrs:{color:"primary",disabled:!e.valid},on:{click:e.validate}},[e._v("Add Currency")])],1)],1)],1),e._v(" "),t("v-dialog",{attrs:{width:"400"},model:{value:e.viewActiveCurrency,callback:function(t){e.viewActiveCurrency=t},expression:"viewActiveCurrency"}},[t("v-card",[t("v-card-title",{staticClass:"headline",attrs:{"primary-title":""}},[e._v("\n        "+e._s(e.activeCurrency.name)+"\n      ")]),e._v(" "),t("v-card-text",{staticClass:"pa-5"},[t("p",[e._v("\n          CODE: "+e._s(e.activeCurrency.code)+"\n          "),t("br"),e._v("\n          Country: "+e._s(e.activeCurrency.entity)+"\n          "),t("br"),e._v("\n          DATE: "+e._s(e.activeCurrency.created_at)+"\n        ")])]),e._v(" "),t("v-card-actions",{staticClass:"pa-5"},[t("v-btn",{attrs:{color:"red",outlined:""},on:{click:function(t){return e.deleteCurrency(e.activeCurrency)}}},[e._v("Delete")]),e._v(" "),t("v-btn",{staticClass:"ml-auto",attrs:{outlined:"",color:"primary"},on:{click:function(t){return e.OpenCuccencyDetails(e.activeCurrency)}}},[e._v("Details")])],1)],1)],1)],1)}),[],!1,null,null,null).exports},1900:(e,t,r)=>{function n(e,t,r,n,i,o,c,s){var a,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=r,l._compiled=!0),n&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),c?(a=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(c)},l._ssrRegister=a):i&&(a=s?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),a)if(l.functional){l._injectStyles=a;var u=l.render;l.render=function(e,t){return a.call(t),u(e,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,a):[a]}return{exports:e,options:l}}r.d(t,{Z:()=>n})}}]);