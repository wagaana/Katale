"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5064],{5064:(e,t,r)=>{r.r(t),r.d(t,{default:()=>f});var i=r(629),n=r(538);r(2640);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const l={data:function(){return{rules:{required:function(e){return!!e||"This field is required"},email:function(e){return/.+@.+\..+/.test(e)||"Must be a valid email"}},dialogTemplate:!1,activeOffer:{},headers:[{text:"Label",align:"left",sortable:!1,value:"text"},{text:"Description",value:"description"},{text:"Subject",value:"subject"},{text:"Creation Time",value:"created_at"},{text:"Deleted",value:"deleted"}]}},created:function(){this.$store.dispatch("loadSystemCampaignOffers")},computed:s(s({},(0,i.rn)(["campaignOffers"])),(0,i.Se)(["getCampaignOffers","messageAlert"])),watch:{messageAlert:function(e){null!=e&&n.default.notify({group:"foo",type:e.type,text:e.body})}},methods:{createOffer:function(){this.$router.push({path:"/admin/marketingCampaigns/createCampaignOffer",query:{action:"createOffer"}})},viewOffer:function(e){this.$router.push({path:"/admin/marketingCampaigns/createCampaignOffer",query:{action:"vewOffer",id:e}})},loadOffer:function(e){this.activeOffer=e,this.dialogTemplate=!0},deleteOffer:function(e){this.$store.dispatch("deleteOffer",e.id),this.dialogTemplate=!1}}};const f=(0,r(1900).Z)(l,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",[t("div",{staticClass:"row"},[e._m(0),e._v(" "),t("div",{staticClass:"col-md-2 pr-md-1 fill-width"},[t("v-btn",{staticClass:"primary font-weight-light",on:{click:e.createOffer}},[e._v("New Offer")])],1)]),e._v(" "),t("v-card",[t("v-data-table",{attrs:{headers:e.headers,items:e.getCampaignOffers,"item-key":"id"},scopedSlots:e._u([{key:"item",fn:function(r){var i=r.item;return[t("tr",{on:{click:function(t){return e.loadOffer(i)}}},[t("td",[e._v(e._s(i.label))]),e._v(" "),t("td",[e._v(e._s(i.description))]),e._v(" "),t("td",[e._v("\n                            "+e._s(null!==i.subject?i.subject:"Updates")+"\n                        ")]),e._v(" "),t("td",[e._v(e._s(i.created_at))]),e._v(" "),t("td",[e._v(e._s(i.deleted))])])]}}])})],1),e._v(" "),t("v-dialog",{attrs:{width:"400"},model:{value:e.dialogTemplate,callback:function(t){e.dialogTemplate=t},expression:"dialogTemplate"}},[t("v-card",[t("v-card-title",{staticClass:"headline",attrs:{"primary-title":""}},[t("h2",[e._v(e._s(e.activeOffer.label))])]),e._v(" "),t("v-divider"),e._v(" "),t("v-card",{staticClass:"pa-5"},[t("v-card-text",[t("p",[e._v("Subject: "+e._s(e.activeOffer.subject))]),e._v(" "),t("p",[e._v(e._s(e.activeOffer.description))]),e._v(" "),t("span",{staticClass:"success--text subtitle-1"},[e._v("\n                            Created: "+e._s(e.activeOffer.created_at)+"\n                        ")])])],1),e._v(" "),t("v-divider"),e._v(" "),t("v-card-actions",{staticClass:"pa-5"},[t("v-btn",{attrs:{color:"red",outlined:""},on:{click:function(t){return e.deleteOffer(e.activeOffer)}}},[e._v("Delete")]),e._v(" "),t("v-btn",{staticClass:"ml-auto",attrs:{outlined:"",color:"primary"},on:{click:function(t){e.dialogTemplate=!1}}},[e._v("Close")]),e._v(" "),t("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.viewOffer(e.activeOffer.id)}}},[e._v("Configure")])],1)],1)],1)],1)])}),[function(){var e=this._self._c;return e("div",{staticClass:"col-md-10 pr-md-1 sm-6"},[e("h1",{staticClass:"font-weight-light"},[this._v("Campaign Offers")])])}],!1,null,null,null).exports},1900:(e,t,r)=>{function i(e,t,r,i,n,a,o,s){var c,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=r,l._compiled=!0),i&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),o?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},l._ssrRegister=c):n&&(c=s?function(){n.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var f=l.render;l.render=function(e,t){return c.call(t),f(e,t)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,c):[c]}return{exports:e,options:l}}r.d(t,{Z:()=>i})}}]);