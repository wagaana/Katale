"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3768],{3768:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var n=s(629),i=s(538),o=s(2640);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?a(Object(s),!0).forEach((function(t){l(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function l(e,t,s){return(t=function(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const h={data:function(){return{uploads:o.q6,overlay:!1,sidebarMenu:!0,toggleMini:!1,themeSwitch:!1,theme:!1,messageTitles:[{id:"image",name:"ðŸ–¼ Image"},{id:"video",name:"ðŸŽ¬ Video"},{id:"contact",name:"ðŸ‘¤ Contact"},{id:"location",name:"ðŸ—º Location"},{id:"file",name:"ðŸ’¾ Document"},{id:"audio",name:"ðŸ”Š Voice Note"}]}},beforeCreate:function(){this.$store.dispatch("getMyProfile"),this.$store.dispatch("getCustomerServiceChats"),this.$store.dispatch("fetchNewMessages"),this.$store.dispatch("fetchUserNotifications")},computed:c(c(c({},(0,n.rn)(["customerServiceChats","myUserProfile","newMessages","userNotifications"])),(0,n.Se)(["messageAlert","getCustomerServiceChats","myUserProfile","getNewMessages","getUserNotifications"])),{},{countNewNotifications:function(){return this.getUserNotifications.length>0?this.getUserNotifications.length:0},countNewMessages:function(){return this.getNewMessages.length>0?this.getNewMessages.length:0}}),watch:{messageAlert:function(e){null!=e&&(i.default.notify({group:"foo",title:e.title,text:e.body,type:e.type}),this.$store.dispatch("getMyProfile"),this.$store.dispatch("getCustomerServiceChats"),this.$store.dispatch("fetchNewMessages"),this.$store.dispatch("fetchUserNotifications"))},getCustomerServiceChats:function(e){null!=e&&this.scrollToElement()}},mounted:function(){"light"==localStorage.getItem("theme")?(this.themeSwitch=!1,this.theme=!1):(this.themeSwitch=!0,this.theme=!0)},methods:{switchTheme:function(e){e?localStorage.setItem("theme","dark"):localStorage.setItem("theme","light"),console.log("THEME:::",e),setTimeout((function(){window.location.reload()}),500)},markDeleted:function(e){e.deleted=!0},restoreToInbox:function(e){e.deleted=!1},countItems:function(e){return 0},readMessage:function(e,t){this.$router.push({path:"/admin/ccInbox/ccChat",query:{chatId:e,userId:t}})},SendMessage:function(){var e=new FormData;e.append("contentType","text"),e.append("message",this.messageContent),e.append("chatId",this.chatId),e.append("recieverId",this.recieverId),this.messageContent="",this.$store.dispatch("sendMessage",e)},handleImageChange:function(e){var t=e.target.files[0],s=new FormData;s.append("image",t),s.append("contentType","image"),s.append("message",this.messageContent),s.append("chatId",this.chatId),s.append("recieverId",this.recieverId),this.messageContent="",this.$store.dispatch("sendMessage",s)},pickAttachment:function(){document.getElementById("imageInput").click()},isMyMessage:function(e){return e.senderId!==this.userSelected.userId},decodeTextMessage:function(e){return e=(e=e.replace(/\+/g,"%20")).replace(/\<br>/g,"\n"),decodeURIComponent(e)},getMessageTitle:function(e){var t=e;return this.messageTitles.forEach((function(s){e===s.id&&(t=s.name)})),t},scrollToElement:function(){var e=this.$refs.scrollToMe;e&&e.scrollIntoView({behavior:"smooth"})}}};const u=(0,s(1900).Z)(h,(function(){var e=this,t=e._self._c;return t("v-container",{attrs:{fluid:""}},[t("v-card",[t("v-row",{staticClass:"py-0 px-2 elevation-2"},[t("v-col",{staticClass:"py-1 elevation-2",staticStyle:{"max-height":"73vh",height:"73vh"},attrs:{lg:"4",grow:"",height:"600"}},[t("v-tabs",{staticClass:"fill-width",attrs:{"show-arrows":"",grow:"",height:"60px"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t("v-tabs-slider",{attrs:{color:"primary"}}),e._v(" "),t("v-tab",[t("div",{staticClass:"caption py-1"},[e._v("\n                            Customer Service Live Chat\n                        ")])])],1),e._v(" "),t("v-tabs-items",{staticClass:"pa-4",attrs:{grow:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t("v-container",{ref:"scrollToMe",staticClass:"flex-grow-1 overflow-y-auto fill-height pa-0",staticStyle:{"max-height":"63vh"},attrs:{"fill-height":"",height:"100%"}},[t("v-responsive",{staticClass:"overflow-y-hidden fill-height"},[t("v-tab-item",[0===e.getCustomerServiceChats.length?t("div",{staticClass:"text-center px-2"},[e._v("\n                                    You have no chats yes\n                                ")]):e._e(),e._v(" "),e._l(e.getCustomerServiceChats,(function(s,n){return t("v-row",{key:n,staticClass:"mb-5 pb-2 elevation-1",attrs:{"align-center":""}},[t("v-col",{attrs:{lg:"3",cols:"12"}},[t("v-avatar",{attrs:{size:"70",height:"70"}},[t("v-img",{attrs:{alt:"",src:"".concat(e.uploads).concat(s.profile_picture)}})],1)],1),e._v(" "),t("v-col",{attrs:{lg:"9",cols:"12"}},[t("v-row",{staticClass:"mt-1 pb-2"},[t("v-col",{staticClass:"py-0",style:{cursor:"pointer"},attrs:{sm:"8",cols:"8"},on:{click:function(t){return t.stopPropagation(),e.readMessage(s.id,s.chatSenderId)}}},[t("h4",{class:s.read?"":"font-italic"},[e._v("\n                                                    "+e._s(s.name)+"\n                                                    "),t("v-icon",{directives:[{name:"show",rawName:"v-show",value:s.read,expression:"\n                                                            message.read\n                                                        "}],attrs:{small:"",title:"Read"}},[e._v("mdi-check")])],1)]),e._v(" "),t("v-col",{staticClass:"text-right caption py-0",attrs:{sm:"4",cols:"4"}},[e._v("\n                                                "+e._s(s.sentTime)+"\n                                            ")]),e._v(" "),t("v-col",{staticClass:"py-0",attrs:{cols:"12"},on:{click:function(t){return e.readMessage(s.id,s.chatSenderId)}}},[t("div",[e._v("\n                                                    "+e._s(e.decodeTextMessage("text"===s.contentType?s.message:e.getMessageTitle(s.contentType)))+"\n                                                ")])])],1)],1)],1)}))],2)],1)],1)],1)],1),e._v(" "),t("v-col",{staticClass:"py-1 elevation-2",attrs:{lg:"8",grow:""}},[t("transition",{attrs:{name:"fade",fluid:""}},[t("router-view")],1)],1)],1)],1),e._v(" "),t("div",{staticClass:"overline mb-1 pt-6",staticStyle:{"text-align":"center"}},[e._v("\n        Manage & track all your shipments.\n    ")])],1)}),[],!1,null,null,null).exports},1900:(e,t,s)=>{function n(e,t,s,n,i,o,r,a){var c,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=s,l._compiled=!0),n&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),r?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},l._ssrRegister=c):i&&(c=a?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var h=l.render;l.render=function(e,t){return c.call(t),h(e,t)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,c):[c]}return{exports:e,options:l}}s.d(t,{Z:()=>n})}}]);